<section class="row margin-bottom-16">
    <article class="col-xs-12">
        {{#if model}}
            <div class="card">
                <section class="row">
                    <article class="col-sm-5">
                        {{user-card user=model parentController=this cardType='mainProfile'}}
                    </article>

                    <article class="col-sm-7 text-center">
                        <div class="overview-stat-container inline-block">
                            <h4 class="stat">
                                {{model.numberOfTestsCreated}}
                            </h4>
                            <h4 class="small">
                                Quizzes Created
                            </h4>
                        </div>

                        <div class="vertical-separator"></div>

                        <div class="overview-stat-container inline-block">
                            <h4 class="stat">
                                {{model.numberOfAttempts}}
                            </h4>
                            <h4 class="small">
                                Quizzes Taken
                            </h4>
                        </div>

                        <div class="vertical-separator"></div>

                        <div class="overview-stat-container inline-block">
                            <h4 class="stat">
                                {{model.numberOfBadgesUnlocked}}
                            </h4>
                            <h4 class="small">
                                Badges Unlocked
                            </h4>
                        </div>

                        <div class="vertical-separator"></div>

                        <div class="overview-stat-container inline-block">
                            <h4 class="stat">
                                {{model.numberOfFollowers}}
                            </h4>
                            <h4 class="small">
                                Followers
                            </h4>
                        </div>
                    </article>
                </section>
            </div>
        {{else}}
            <h4 class="text-center margin-top-16">
                Hmm... we don't have a user with that name. Please check your link and try again!
            </h4>
        {{/if}}
    </article>
</section>

{{#if model}}
    <section class="row">

        <article class="col-xs-12 col-sm-8">
            {{partial 'index/user/my-tests'}}
        </article>

        <article class="col-xs-12 col-sm-4 col-fix-right">

            {{#if model.educationCohort}}

                <div class="panel panel-default card">

                    <div class="panel-heading">
                        <h4 class="no-margin">
                            Education
                        </h4>
                    </div>
                    <div class="panel-body">
                        {{#if model.educationCohort.currentYear}}
                            <div class="no-margin subtitle">
                                <i class="fa fa-group fa-fw"></i>&nbsp; {{model.educationCohort.currentYear}}
                            </div>
                        {{/if}}
                        {{#if model.educationCohort.studyField}}
                            <div class="no-margin subtitle">
                                <i class="fa fa-book fa-fw"></i>&nbsp; {{model.educationCohort.studyField.name}}
                            </div>
                        {{/if}}
                        {{#if model.educationCohort.institution}}
                            <div class="no-margin subtitle">
                                <i class="fa fa-university fa-fw"></i>&nbsp; {{model.educationCohort.institution.name}}
                            </div>
                        {{/if}}
                    </div>
                </div>

            {{/if}}

            <div class="panel panel-default card">

                <div class="panel-heading">
                    <h4 class="no-margin">
                        Achievements
                    </h4>
                </div>
                <div class="panel-body">
                    {{#each model.badgeProgressions as |badgeProgression|}}
                        {{synap-badge badgeProgression=badgeProgression}}
                    {{/each}}
                </div>

            </div>

            {{#if isCurrentUser}}
                <div class="panel panel-default card">

                    <div class="panel-heading">
                        <h4 class="no-margin">
                            Find
                        </h4>
                    </div>

                    <div class="panel-body friends-list">
                        {{main-search usersOnly=true parentController=this inlineResults=true
                        searchPlaceholder="Search for Friends..."}}
                    </div>
                </div>
            {{/if}}

            <div class="panel panel-default card">

                <div class="panel-heading">
                    <h4 class="no-margin">
                        Friends
                    </h4>
                </div>

                <div class="panel-body friends-list">
                    <ul class="nav nav-tabs margin-bottom-16 no-background">
                        <li {{bind-attr class="friendsShouldShowFollowers:active"}}
                            {{action "switchTabInFriendsList" "followers"}}>
                            <a href="javascript:void(0)"
                                {{bind-attr class="friendsShouldShowFollowers:active"}}>
                                Followers: {{model.numberOfFollowers}}
                            </a>
                        </li>

                        <li {{bind-attr class="friendsShouldShowFollowing:active"}}
                            {{action "switchTabInFriendsList" "following"}}>
                            <a href="javascript:void(0)"
                                {{bind-attr class="friendsShouldShowFollowing:active"}}>
                                Following: {{model.numberFollowing}}
                            </a>
                        </li>
                    </ul>

                    {{#if friendsShouldShowFollowers}}

                        {{#each model.followers as |follower|}}
                            {{profile-picture user=follower height=50 width=50 border=0
                            class="inline-top margin-right-8 margin-bottom-12"}}
                        {{/each}}

                    {{/if}}

                    {{#if friendsShouldShowFollowing}}

                        {{#each model.following as |following|}}
                            {{profile-picture user=following height=50 width=50 border=0
                            class="inline-top margin-right-8 margin-bottom-12"}}
                        {{/each}}

                    {{/if}}
                </div>

            </div>
        </article>

    </section>
{{/if}}

